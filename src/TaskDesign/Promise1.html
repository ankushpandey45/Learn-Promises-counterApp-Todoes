<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <h1 id="demo"></h1>
      <button id="decBtn">DEC</button>
      <button id="incBtn">INC</button>
    </div>

    <div>
      <h2 id="demo1"></h2>
      <button id="againInc">Start</button>
      <button id="pause">Pause</button>
      <button id="resetBtn">Reset</button>
    </div>
    <script>
      let count = 0;
      const handleInc = () => {
        count++;
        updateDisplay();
      };
      const handleDec = () => {
        if (count > 0) {
          count--;
        }
        updateDisplay();
      };
      const updateDisplay = () => {
        document.getElementById("demo").innerHTML = count;
      };

      document.getElementById("incBtn").addEventListener("click", handleInc);
      document.getElementById("decBtn").addEventListener("click", handleDec);
      updateDisplay();

      let anotherCount = 30;
      let timeOut;
      const handleIncFunct = () => {
        timeOut = setInterval(() => {
          if (anotherCount > 0) {
            anotherCount--;
            updateDisplayAgain();
          }
        }, 1000);
      };

      const handlePauseBtn = () => {
        clearInterval(timeOut);
      };

      const updateDisplayAgain = () => {
        document.getElementById("demo1").innerHTML = anotherCount;
      };

      const handleResetfunct = () => {
        anotherCount = 30;
        updateDisplayAgain();
      };

      document
        .getElementById("againInc")
        .addEventListener("click", handleIncFunct);
      document
        .getElementById("resetBtn")
        .addEventListener("click", handleResetfunct);
      document
        .getElementById("pause")
        .addEventListener("click", handlePauseBtn);

      updateDisplayAgain();
      const promise = new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve({ name: "ankush", age: "23" });
        }, 1000);
      });
      promise.then((user) => {
        console.log(user);
      });

      const promise2 = new Promise((resolve, reject) => {
        setTimeout(() => {
          let a = false;
          if (!a) {
            resolve({ name: "ankush", age: "23" });
          } else {
            reject("ERROR: you did mistake something");
          }
        }, 1000);
      });

      promise2
        .then((user) => {
          console.log(user);
          return user.name;
        })
        .then((name) => {
          console.log(name);
        })
        .catch((error) => {
          console.log(error);
        })
        .finally(() => {
          console.log("good work");
        });

      const promise3 = new Promise((resolve, reject) => {
        setTimeout(() => {
          let b = true;
          if (b) {
            resolve({ name: "sonu", age: "24" });
          } else {
            reject("ERROR:", error);
          }
        }, 1000);
      });
      const p2 = async () => {
        try {
          const response = await promise3;
          console.log(response);
        } catch (error) {
          console.log(error);
        }
      };
      p2();

      const promise4 = async () => {
        try {
          const response = await fetch(
            "https://jsonplaceholder.typicode.com/posts"
          );
          const data = await response.json();
        } catch (error) {
          console.log(error);
        }
      };

      promise4();

      fetch("https://jsonplaceholder.typicode.com/posts")
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });

      const promise5 = new Promise((resolve, reject) => {
        setTimeout(() => {
          let v = true;
          if (!v) {
            resolve("vivek");
          } else {
            reject("ERROR");
          }
        }, 1000);
      });

      promise5
        .then((user) => {
          console.log(user);
        })
        .catch((error) => {
          console.log(error);
        });

      const fetchdata = new Promise((resolve, reject) => {
        setTimeout(async () => {
          try {
            const response = await fetch(
              "https://jsonplaceholder.typicode.com/posts"
            );
            const data = response.json();
            resolve(data);
          } catch (error) {
            reject("error");
          }
        }, 2000);
      });

      const fetchdataofuser = async () => {
        try {
          console.log("fetchin data");
          const pv = await fetchdata;
          console.log(pv);
        } catch (error) {
          console.log(error);
        }
      };
      fetchdataofuser();

      const fetchdata2 = new Promise((resolve, reject) => {
        setTimeout(async () => {
          try {
            const res = await fetch(
              "https://jsonplaceholder.typicode.com/posts"
            );
            const data = await res.json();
            resolve(data);
          } catch (error) {
            reject(error);
          }
        }, 3000);
      });

      const fetchuserdata2 = async () => {
        try {
          const resp = await fetchdata2;
          console.log(resp);
        } catch (error) {
          console.log(error);
        }
      };
      fetchuserdata2();

      const promises6 = new Promise((resolve, reject) => {
        setTimeout(() => {
          let cv = true;
          if (cv) {
            resolve("ankush");
          } else {
            reject("ERROR");
          }
        }, 3000);
      });
      promises6
        .then((user) => {
          console.log(user);
        })
        .catch((error) => {
          console.log(error);
        });

      const promisses8 = new Promise((resolve, reject) => {
        setTimeout(() => {
          let cc = true;
          if (cc) {
            resolve("vicky");
          } else {
            reject("ERROR");
          }
        }, 4000);
      });
      const pk = async () => {
        try {
          const tp = await promisses8;
          console.log(tp);
        } catch (error) {
          console.log(error);
        }
      };
      pk();

      const fetchdata3 = new Promise((resolve, reject) => {
        setTimeout(async () => {
          try {
            const response = await fetch(
              "https://jsonplaceholder.typicode.com/posts"
            );
            const data = await response.json();
            resolve(data);
            console.log(data);
          } catch (error) {
            reject(error);
            console.log(error);
          }
        }, 3000);
      });

      const promisee = new Promise((resolve, reject) => {
        setTimeout(() => {
          try {
            let ank = true;
            if (ank) {
              resolve("ankush");
            }
          } catch (error) {
            reject(error);
          }
        }, 3000);
      });
      promisee
        .then((user) => {
          console.log(user);
        })
        .catch((error) => {
          console.log(error);
        });

      const func1 = (x) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve(x);
            reject("ERROR");
          }, 8000);
        });
      };
      const f1 = async () => {
        try {
          const f = await func1(10);
          console.log(f);
        } catch (error) {
          console.log(error);
        }
      };
      f1();

      Promise.all([promisee, fetchdata3])
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });

      Promise.race([promisee, fetchdata3])
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });

      const f2 = new Promise((res, rej) => {
        setTimeout(() => {
          let an = true;
          if (an) {
            res("prince");
          } else {
            rej("ERROR");
          }
        }, 4000);
      });

      const func4 = async () => {
        try {
          const data = await f2;
          console.log(data);
        } catch (error) {
          console.log(error);
        }
      };
      func4();

      const promise21 = new Promise((resolve, reject) => {
        setTimeout(() => {
          fetch("https://jsonplaceholder.typicode.com/posts")
            .then((response) => {
              return response.json();
            })
            .then((data) => resolve(data))
            .catch((error) => reject(error));
        }, 2000);
      });

      const getdata = async () => {
        try {
          const data2 = await promise21;
          console.log(data2);
        } catch (error) {
          console.log(error);
        }
      };
      getdata();

      const promisesss = new Promise((resolve, reject) => {
        setTimeout(() => {
          fetch("https://jsonplaceholder.typicode.com/posts")
            .then((response) => {
              return response.json();
            })
            .then((data) => resolve(data))
            .catch((error) => reject(error));
        }, 1000);
      });
      const fetch22 = async () => {
        try {
          const data = await promisesss;
          console.log(data);
        } catch (error) {
          console.log(error);
        }
      };
      fetch22();

      const promissess = new Promise((resolve, reject) => {
        setTimeout(() => {
          let a = true;
          if (a) {
            resolve("copy");
          } else {
            reject("ERROR");
          }
        }, 2000);
      });
      promissess
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });

      const pro = new Promise((resolve, reject) => {
        setTimeout(() => {}, 2000);
      });

      const promise9 = new Promise((res, rej) => {
        setTimeout(() => {
          let a = true;
          if (a) {
            res("ankush");
          } else {
            rej("ERROR");
          }
        }, 2000);
      });
      promise9
        .then((data) => {
          console.log(data);
          document.getElementById("demo").innerHTML = data;
        })
        .catch((error) => {
          console.log(error);
        });
      const fetchDataFromApi = new Promise((res, rej) => {
        setTimeout(async () => {
          try {
            const response = await fetch(
              "https://jsonplaceholder.typicode.com/comments"
            );
            const apiData = await response.json();
            res(apiData);
            console.log(apiData);
          } catch (error) {
            rej(error);
            console.log(error);
          }
        }, 1000);
      });

      const user = {
        userName: "ankush",
        price: 500,
        welcomeUser: function () {
          console.log(`${this.userName},welcome to my website`);
        },
      };
      user.welcomeUser();

      const user2 = {
        userName: "sonu",
        price: 23,
        getUserInfo: function () {
          console.log(this.userName);
        },
      };
      console.log(user2.userName);
      const obj = {};
      Object.setPrototypeOf(obj, user2);
      console.log(obj.userName);

      const user3 = {
        "user Name": "vivek",
      };
      console.log(user3["user Name"]);
      const ankush = new Promise((res, rej) => {
        setTimeout(() => {
          let a = "vinit";
          if (a) {
            res(a);
          } else {
            rej("ERROR");
          }
        }, 5000);
      });
      const ankush2 = async () => {
        try {
          const prr = await ankush;
          console.log(prr);
        } catch (error) {
          console.log(error);
        }
      };
      ankush2();

      const ankush3 = new Promise((res, rej) => {
        setTimeout(() => {
          let ab = "ankush";
          if (!ab) {
            res(ab);
          } else {
            rej("ERROR");
          }
        }, 6000);
      });
      ankush3
        .then((resolve) => {
          console.log(resolve);
        })
        .catch((error) => {
          console.log(error);
        });
    </script>
  </body>
</html>
