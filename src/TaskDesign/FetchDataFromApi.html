<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <h2>Fetched Data:</h2>
      <table>
        <thead>
          <tr>
            <th>Heading</th>
            <th>Data</th>
          </tr>
        </thead>
        <tbody id="data-body"></tbody>
      </table>
    </div>

    <script>
      const arr = [];
      const fetchDataFromApi = new Promise((res, rej) => {
        setTimeout(async () => {
          try {
            const response = await fetch(
              "https://jsonplaceholder.typicode.com/comments"
            );
            const responseData = await response.json();
            res(responseData);
            arr.push(...responseData);
          } catch (error) {
            rej(error);
            console.error(error);
          }
        }, 2000);
      });

      fetchDataFromApi
        .then((data) => {
          const tbody = document.getElementById("data-body");
          data.forEach((item, id) => {
            const row = document.createElement("tr");
            const postIdCell = document.createElement("td");
            const nameCell = document.createElement("td");

            postIdCell.textContent = item.postId;
            nameCell.textContent = item.name;

            row.appendChild(postIdCell);
            row.appendChild(nameCell);
            tbody.appendChild(row);
          });
        })
        .catch((error) => {
          console.error("Error fetching data:", error);
        });
    </script>
  </body>
</html>
